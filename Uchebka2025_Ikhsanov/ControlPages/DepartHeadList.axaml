<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Uchebka2025_Ikhsanov.ControlPages.DepartHeadList">
    <Grid Background="#F8FAFC">
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="220"/>   
        <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    
    <Border Grid.Column="0" Background="#2D3748" Padding="0 30">
        <StackPanel Spacing="8">

            <TextBlock Text="Меню"
                       FontSize="22"
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       Margin="0 0 0 20"/>

            <Button Name="MainBtn"  Content="Главная страница" Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="MainPageEmployees"/>
            <Button Name="DiscBtn"  Content="Дисциплины"       Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="DisciplineList"/>
            <Button Name="ExamBtn"  Content="Экзамены"         Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="ExamsList"/>
            <Button Name="TeachBtn" Content="Преподаватели"    Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="TeachList"/>
            <Button Name="StudBtn"  Content="Студенты"         Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="StudList"/>
            <Button Name="HeadBtn"  Content="Зав. кафедры"     Height="42" CornerRadius="12" Background="#4A5568" Foreground="White" FontSize="15" Click="DepartHeadLists"/>

            <Border Background="#4A5568" Height="1" Margin="16 16"/>

            <Button Content="Выход"
                    Height="42"
                    CornerRadius="12"
                    Background="#E53E3E"
                    Foreground="White"
                    FontSize="15"
                    FontWeight="SemiBold"
                    Click="Leave"/>
        </StackPanel>
    </Border>

        <Border Grid.Column="1"
        Margin="30"
        Background="White"
        CornerRadius="16"
        BoxShadow="0 4 20 0 #20000000"
        BorderBrush="#E2E8F0"
        BorderThickness="1">

            
            
            
    <StackPanel Spacing="20" Margin="24">

        <Border Background="#1976D2"
                CornerRadius="12"
                Padding="16 12">
            <TextBlock Text="Заведующие кафедрой"
                       Foreground="White"
                       FontSize="18"
                       FontWeight="SemiBold"/>
        </Border>

        <StackPanel Orientation="Horizontal" Spacing="12">
            <!-- Поиск по ФИО -->
            <TextBox Name="SearchBox"
                     Watermark="Поиск по ФИО..."
                     Width="250"
                     Height="36"
                     Padding="10 0"
                     FontSize="14"
                     TextChanged="SearchBox_TextChanged"/>

            <!-- Фильтр по кафедре -->
            <TextBlock Text="Кафедра:" VerticalAlignment="Center" FontSize="14"/>
            <ComboBox Name="DepartmentFilter"
                      Width="200"
                      Height="36"
                      FontSize="14"
                      SelectionChanged="DepartmentFilter_SelectionChanged">
                <ComboBoxItem Content="Все кафедры" Tag=""/>
            </ComboBox>
        </StackPanel>
        
        <ScrollViewer VerticalScrollBarVisibility="Auto" 
                      MaxHeight="600">
            <DataGrid Name="HeadDataGrid"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      GridLinesVisibility="Horizontal"
                      Background="Transparent"
                      BorderThickness="0"
                      RowHeight="48"
                      FontSize="14"
                      HeadersVisibility="Column">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="ФИО заведующей"
                                        Binding="{Binding TabNumberNavigation.Fullname}"
                                        Width="220"/>

                    <DataGridTextColumn Header="Кафедра"
                                        Binding="{Binding TabNumberNavigation.IdDepartNavigation.NameDepart}"
                                        Width="280"/>

                    <DataGridTextColumn Header="Зарплата"
                                        Binding="{Binding TabNumberNavigation.Salary, StringFormat='{}{0:F0} ₽'}"
                                        Width="120"/>

                    <DataGridTextColumn Header="Стаж работы"
                                        Binding="{Binding ExperienceYears, StringFormat='{}{0} л.'}"
                                        Width="100"/>

                    <DataGridTemplateColumn Header="Действие" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="Удалить"
                                        Background="#E53E3E"
                                        Foreground="White"
                                        Height="34"
                                        CornerRadius="8"
                                        FontSize="13"
                                        Padding="10 0"
                                        Click="DeleteHeadButton_Click"
                                        Tag="{Binding}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </ScrollViewer>

        <Button Content="Добавить заведующего"
                Name="AddHeadBtn"
                Click="AddHeadButton_Click"
                Height="35"
                CornerRadius="14"
                Background="#3182CE"
                Foreground="White"
                FontSize="16"
                FontWeight="SemiBold"
                HorizontalAlignment="Stretch"
                Margin="0 10 0 0"/>

    </StackPanel>
</Border>
</Grid>
</UserControl>
